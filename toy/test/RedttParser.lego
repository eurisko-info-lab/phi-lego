-----------------------------------------------------
-- RedttParser: A parser for redtt (.red) files
--
-- A simplified grammar focused on actually parsing
-- .red files from the redtt library.
-----------------------------------------------------

lang RedttParser :=

-----------------------------------------------------
-- All productions in one piece (to avoid cross-reference issues)
-----------------------------------------------------

piece Redtt
  -- File structure
  file       ::= topdecl* ;
  topdecl    ::= importdecl ;
  
  -- Imports
  importdecl ::= "public"? "import" modulepath ;
  modulepath ::= ident dotpath* ;
  dotpath    ::= "." ident ;

-----------------------------------------------------
-- Tests
-----------------------------------------------------

test "import simple": (import prelude) ;